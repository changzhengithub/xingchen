(window.webpackJsonp=window.webpackJsonp||[]).push([[105],{450:function(s,t,a){"use strict";a.r(t);var n=a(42),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"搭建vue项目工程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#搭建vue项目工程"}},[s._v("#")]),s._v(" 搭建vue项目工程")]),s._v(" "),a("h2",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -g @vue/cli\n")])])]),a("h2",{attrs:{id:"创建项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建项目"}},[s._v("#")]),s._v(" 创建项目")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("vue create hello-world\n")])])]),a("p",[s._v("通过create命令创建vue项目，可以选择添加我们需要的选项，比如，路由，vuex，axios，typescript等，也可以选择默认，当然也可以什么都不选，然后回车，等待命令创建好项目就可以了，然后运行 "),a("code",[s._v("npm run serve")]),s._v(" 开启项目。")]),s._v(" "),a("h2",{attrs:{id:"目录与静态资源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目录与静态资源"}},[s._v("#")]),s._v(" 目录与静态资源")]),s._v(" "),a("p",[s._v("目录结构：")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("├── node_modules        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# node包")]),s._v("\n├── public\n│   ├── favicon.ico     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# favicon图标")]),s._v("\n│   └── index.html      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# html模板")]),s._v("\n├── src\n│   ├── assets          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 主题 字体等静态资源 (由 webpack 处理加载)")]),s._v("\n│   ├── components      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 全局组件")]),s._v("\n│   ├── router          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 路由")]),s._v("\n│   │   └── index.js    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 路由")]),s._v("\n│   ├── store           "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 全局 vuex store")]),s._v("\n│   │   └── index.js    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vuex")]),s._v("\n│   ├── pages           "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 多页入口")]),s._v("\n│   ├── views           "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 所有页面")]),s._v("\n│   ├── App.vue         "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 入口页面")]),s._v("\n│   ├── main.ts         "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 入口文件 加载组件 初始化等")]),s._v("\n│   ├── shims-tsx.d.ts\n│   └── shims-vue.d.ts\n├── .browserslistrc     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# browserslistrc 配置文件 (用于支持 Autoprefixer)")]),s._v("\n├── .eslintrc.js        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# eslint 配置")]),s._v("\n├── .gitignore\n├── babel.config.js     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# babel-loader 配置")]),s._v("\n├── package-lock.json\n├── package.json        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# package.json 依赖")]),s._v("\n├── README.md\n├── tsconfig.json       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# typescript 配置")]),s._v("\n└── vue.config.js       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vue-cli 配置")]),s._v("\n")])])]),a("p",[s._v("静态资源存放：")]),s._v(" "),a("p",[s._v("任何放在public文件夹下的文件都不会被webpack处理，只进行简单的复制，引入其中的文件需要使用绝对路径来引用。放在其他文件下通过相对路径而引入的，都会被webpack处理，比如图片，小于多少kb的会被内联，打包在一起，减少HTTP请求，可以在 "),a("code",[s._v("vue.config.js")]),s._v(" 的 "),a("code",[s._v("chainWebpack")]),s._v(" 进行设置。")]),s._v(" "),a("p",[s._v("当动态引入图片时，我们应该把图片放在public文件下。")]),s._v(" "),a("p",[s._v("如果项目不是部署在根目录下，那么引入public文件的内容就需要配置 publicPath 前缀。")]),s._v(" "),a("p",[s._v("在模板中，你首先需要向你的组件传入基础 URL：")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("data")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 获取根路径")]),s._v("\n    publicPath"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("BASE_URL")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("然后：")]),s._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("img")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v(":src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("`${publicPath}my-image.png`"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])])]),a("h2",{attrs:{id:"vue-onfig-js配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-onfig-js配置"}},[s._v("#")]),s._v(" vue.onfig.js配置")]),s._v(" "),a("p",[s._v("vue-cli3.0默认是把全局CLI配置给隐藏了，如果想要进行全局CLI配置，可以在根目录下("),a("code",[s._v("package.json")]),s._v(" 同级)新建一个 "),a("code",[s._v("vue.config.js")]),s._v(" 文件来进行配置。webpack需要在 "),a("code",[s._v("configureWebpack")]),s._v(" 选项中配置。")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// vue.config.js")]),s._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 选项...")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 如果您不需要生产时的源映射，那么将此设置为false可以加速生产构建")]),s._v("\n  productionSourceMap"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// devServer:{type:Object} 3个属性host,port,https")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 它支持webPack-dev-server的所有选项")]),s._v("\n  devServer"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      host"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'xxx.xxx.xxx.xx'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 本机地址")]),s._v("\n      port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 端口号")]),s._v("\n      https"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// https:{type:Boolean}")]),s._v("\n      open"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//配置自动启动浏览器")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// proxy: 'http://localhost:4000' // 配置跨域处理,只有一个代理")]),s._v("\n      proxy"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/api'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n              target"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http://www.xxx.com/api'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 跨域地址")]),s._v("\n              changeOrigin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n              pathRewrite"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'^/api'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),s._v("\n              "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// webpack配置")]),s._v("\n  configureWebpack"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// css配置")]),s._v("\n  css"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 多页面配置")]),s._v("\n  pages"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("配置链接："),a("a",{attrs:{href:"https://cli.vuejs.org/zh/config/",target:"_blank",rel:"noopener noreferrer"}},[s._v("vue.config.js配置"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"多页面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多页面"}},[s._v("#")]),s._v(" 多页面")]),s._v(" "),a("p",[s._v("配置多页面应用，要单独为其添加入口文件 "),a("code",[s._v("main.js")]),s._v(" 和路由、vuex等，但是公共组件是可以被共享的。")]),s._v(" "),a("p",[s._v("在 src 下添加 pages 目录，在里面创建多页面，之前的单页面配置也拿到 pages 里。然后对每个页面进行单独的配置。")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("├── pages\n│   ├── index          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# index页面")]),s._v("\n│   │   ├── App.vue    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# App组件")]),s._v("\n│   │   ├── router.js  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 路由配置")]),s._v("\n│   │   ├── store.js   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vuex")]),s._v("\n│   │   └── main.js    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 入口")]),s._v("\n│   ├── product        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# product页面")]),s._v("\n│   │   ├── App.vue    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# App组件")]),s._v("\n│   │   ├── router.js  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 路由配置")]),s._v("\n│   │   ├── store.js   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vuex")]),s._v("\n│   │   └── main.js    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 入口")]),s._v("\n")])])]),a("p",[s._v("然后在 "),a("code",[s._v("vue.config.js")]),s._v(" 里配置 "),a("code",[s._v("pages")]),s._v(" 选项。")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// vue 多页面配置")]),s._v("\n  pages"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    index"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// page 的入口")]),s._v("\n      entry"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'src/pages/index/main.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 模板来源")]),s._v("\n      template"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'public/index.html'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在 dist/index.html 的输出")]),s._v("\n      filename"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'index.html'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 当使用 title 选项时，")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// template 中的 title 标签需要是 <title><%= htmlWebpackPlugin.options.title %></title>")]),s._v("\n      title"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Index Page'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在这个页面中包含的块，默认情况下会包含")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 提取出来的通用 chunk 和 vendor chunk。")]),s._v("\n      chunks"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'chunk-vendors'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'chunk-common'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'index'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    product"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      entry"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"src/pages/product/main.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      template"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"public/product.html"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      filename"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"product.html"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("h2",{attrs:{id:"环境变量和模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境变量和模式"}},[s._v("#")]),s._v(" 环境变量和模式")]),s._v(" "),a("p",[s._v("像 "),a("code",[s._v("<%= BASE_URL %>")]),s._v(" 和 "),a("code",[s._v("process.env.NODE_ENV")]),s._v(" 这些地址都是怎么得到的，这些是 "),a("code",[s._v(".env")]),s._v(" 文件下的全局环境变量，也就是在当前项目都可以使用它。")]),s._v(" "),a("p",[a("strong",[s._v("环境变量")])]),s._v(" "),a("p",[s._v("环境变量总共有四种方式：")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v(".env                "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在所有的环境中被载入")]),s._v("\n.env.local          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在所有的环境中被载入，但会被 git 忽略")]),s._v("\n.env."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 只在指定的模式中被载入，mode是模式名字，随便取")]),s._v("\n.env."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(".local   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 只在指定的模式中被载入，但会被 git 忽略")]),s._v("\n")])])]),a("p",[s._v("添加全局环境变量：")]),s._v(" "),a("p",[s._v("添加全局环境变量直接在 "),a("code",[s._v(".env")]),s._v(" 文件下添加“键=值”对就行了，在src中使用环境变量的话，必须以 "),a("code",[s._v("VUE_APP_*")]),s._v(" 开头。")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("VUE_APP_SECRET")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("secret\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("FOO")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("bar\n")])])]),a("p",[s._v("使用：")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 全局使用")]),s._v("\nprocess.env.VUE_APP_SECRET\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# src外使用")]),s._v("\nprocess.env.FOO\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# public/index.html使用")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("%"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BASE_URL %"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),a("p",[s._v("除了 VUE_APP_* 变量之外，有两个特殊的变量 "),a("code",[s._v("NODE_ENV")]),s._v(" 和 "),a("code",[s._v("BASE_URL")]),s._v(" 会自动根据环境的变化而变化，不会是一个固定的值。")]),s._v(" "),a("p",[a("strong",[s._v("模式")])]),s._v(" "),a("p",[s._v("环境变量默认有三种模式：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("development")]),s._v("： 开发环境")]),s._v(" "),a("li",[a("code",[s._v("production")]),s._v("：生产环境")]),s._v(" "),a("li",[a("code",[s._v("test")]),s._v("：测试环境")])]),s._v(" "),a("p",[s._v("在对应的模式下配置相应的环境变量，只会在相对应的模式下显示出来。比如添加 "),a("code",[s._v(".env.development")]),s._v("模式，要在 "),a("code",[s._v("package.json")]),s._v(" 上添加 "),a("code",[s._v("--mode")]),s._v(" 指令：")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"docs:dev"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vuepress dev docs --mode development"')]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"docs:build"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vuepress build docs"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n")])])]),a("h2",{attrs:{id:"css配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#css配置"}},[s._v("#")]),s._v(" css配置")]),s._v(" "),a("p",[s._v("我们把公共样式，css或scss都放在src/assets静态资源文件夹下面。")]),s._v(" "),a("p",[s._v("vue-cli使用sass或者less在创建项目时会添加选项，如果没有选择也可以自己安装，以前安装sass需要安装 "),a("code",[s._v("node-sass")]),s._v("和"),a("code",[s._v("sass-loader")]),s._v("然后再修改webpack选项，现在只需要安装 "),a("code",[s._v("sass-loader")]),s._v("和"),a("code",[s._v("sass")]),s._v("，然后在 "),a("code",[s._v("vue.config.js")]),s._v("的 "),a("code",[s._v("css")]),s._v(" 选项中配置 sass全局使用变量就可以了。")]),s._v(" "),a("p",[s._v("安装CSS预处理器")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Sass")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -D sass-loader sass\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Less")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -D less-loader "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("less")]),s._v("\n")])])]),a("p",[s._v("配置sass使用全局变量")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// vue.config.js")]),s._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  css"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    loaderOptions"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      sass"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// @是src的别名")]),s._v("\n        prependData"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('@import "@/assets/sass/main.scss"')]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      scss"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        prependData"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('@import "@/assets/sass/main.scss";')]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      less"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `primary` is global variables fields name")]),s._v("\n        globalVars"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          primary"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'#fff'")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("定义全局sass样式：")]),s._v(" "),a("p",[s._v("在src/assets目录下创建sass文件，在此文件夹下创建main.scss文件，main.scss文件为sass入口文件，main.scss在vue.config.js中定义了，就不需要在main.js中引入，会自动被全局使用。然后定义其他公共scss文件，在文件名前加上_来区分，如_flex.scss/_unit.scss文件。在main.scss引入这些公共sass文件就可以全局使用了。")]),s._v(" "),a("div",{staticClass:"language-scss extra-class"},[a("pre",{pre:!0,attrs:{class:"language-scss"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// main.scss")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("@import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./_flex.scss"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("@import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./_unit.scss"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("计算适配尺寸：")]),s._v(" "),a("div",{staticClass:"language-scss extra-class"},[a("pre",{pre:!0,attrs:{class:"language-scss"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// _unit.scss")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token property"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$unit")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 75 "),a("span",{pre:!0,attrs:{class:"token statement keyword"}},[s._v("!default")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token property"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$symbol")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 10vw "),a("span",{pre:!0,attrs:{class:"token statement keyword"}},[s._v("!default")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("在 vue文件中使用")]),s._v(" "),a("div",{staticClass:"language-vue extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("style")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("scoped")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("lang")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("scss"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token style"}},[a("span",{pre:!0,attrs:{class:"token language-css"}},[s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 126 / $unit * $symbol"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("style")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])])]),a("p",[s._v("导入其他css或scss文件")]),s._v(" "),a("div",{staticClass:"language-vue extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("style")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("scoped")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("lang")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("scss"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token style"}},[a("span",{pre:!0,attrs:{class:"token language-css"}},[s._v("\n  import "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./foo.module.css'")]),s._v("\n  // 所有支持的预处理器都一样工作\n  import "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./foo.module.scss'")]),s._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("style")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])])]),a("p",[s._v("postCss 为css添加前缀，vue-cli默认开启。")]),s._v(" "),a("p",[s._v("如果使用flexible的rem来适配尺寸，可以使用插件 px2rem-loader 来自动转换。")]),s._v(" "),a("h2",{attrs:{id:"添加路由"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加路由"}},[s._v("#")]),s._v(" 添加路由")]),s._v(" "),a("p",[a("RouterLink",{attrs:{to:"/vue/router/vue-cli添加路由.html"}},[s._v("vue-cli添加路由")])],1),s._v(" "),a("h2",{attrs:{id:"添加vuex"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加vuex"}},[s._v("#")]),s._v(" 添加vuex")]),s._v(" "),a("p",[a("RouterLink",{attrs:{to:"/vue/vuex/vue-cli添加vuex.html"}},[s._v("vue-cli添加vuex")])],1),s._v(" "),a("h2",{attrs:{id:"添加axios"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加axios"}},[s._v("#")]),s._v(" 添加axios")]),s._v(" "),a("p",[a("RouterLink",{attrs:{to:"/vue/basic/axios封装.html"}},[s._v("axios封装")])],1)])}),[],!1,null,null,null);t.default=e.exports}}]);